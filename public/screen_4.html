<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACR Results</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        .navbar-logo {
            background-color: #333;
            color: #fff;
            padding: 1rem;
        }

        .navbar-logo h2 {
            margin: 0;
        }

        ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
            background-color: #f4f4f4;
        }

        ul li {
            display: inline-block;
            padding: 1rem;
        }

        ul li a {
            color: #333;
            text-decoration: none;
        }

        .container {
            width: 80%;
            margin: auto;
            overflow: hidden;
            padding: 2rem 0;
        }

        .vpat-info, .table-container {
            background: #fff;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        h3 {
            color: #333;
        }

        .scrollable-table {
            max-height: 300px;
            overflow-y: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }

        .form-section p {
            margin: 0.5rem 0;
        }

        .form-section strong {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <nav class="navbar-logo">
        <h2>Unified Accessibility</h2>
    </nav>

    <ul>
        <li><a href="screen_1.html">Test</a></li>
        <li><a href="screen_2.html">Defect Results</a></li>
        <li><a href="screen_3.html">Generate ACR</a></li>
        <li><a href="screen_4.html">ACR Results</a></li>
    </ul>

    <div class="container">
        <div class="vpat-info">
            <div class="form-section">
                <h3>VPAT Header Info</h3>
                <p><strong>WCAG Standards & Conformance Level:</strong> <span id="wcagStandards"></span></p>
                <p><strong>VPAT Version:</strong> <span id="vpatVersion"></span></p>
                <p><strong>Report Author:</strong> <span id="reportAuthor"></span></p>
                <p><strong>Report Date:</strong> <span id="reportDate"></span></p>
                <p><strong>Organization Name:</strong> <span id="companyName"></span></p>
                <p><strong>Evaluation Methods Used:</strong> <span id="evaluationMethods"></span></p>
                <p><strong>Notes:</strong> <span id="notes"></span></p>
            </div>
        </div>

        <div class="table-container">
            <h3>Conformance Criteria</h3>
            <div class="scrollable-table">
                <table id="conformanceTable">
                    <thead>
                        <tr>
                            <th>Criteria</th>
                            <th>Conformance Level</th>
                            <th>Remarks and Explanations</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Table rows will be populated dynamically -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        fetch('/get-form-data')
            .then(response => response.json())
            .then(data => {
                // Update the DOM with the received data
                document.getElementById('wcagStandards').textContent = `${data.wcagStandards} (${data.wcagConformance})` || '';
                document.getElementById('vpatVersion').textContent = data.vpatVersion || '';
                document.getElementById('reportAuthor').textContent = data.reportAuthor || '';
                document.getElementById('reportDate').textContent = data.reportDate || '';
                document.getElementById('companyName').textContent = data.companyName || '';
                document.getElementById('notes').textContent = data.notes || '';
                
                // Update evaluation methods
                document.getElementById('evaluationMethods').textContent = data.evaluationProcess ? data.evaluationProcess.join(', ') : '';

                // Populate the table with some example data
                // In a real scenario, this data would come from your server or be generated based on the form input
                const tableBody = document.querySelector('#conformanceTable tbody');
                const exampleData = [
                    { criteria: "1.1.1 Non-text Content (Level A)", conformance: "Supports", remarks: "No issues found." },
                    { criteria: "1.2.1 Audio-only and Video-only (Prerecorded) (Level A)", conformance: "Partially Supports", remarks: "Some video content missing transcripts." },
                    { criteria: "1.3.1 Info and Relationships (Level A)", conformance: "Does Not Support", remarks: "Form labels not properly associated with inputs." }
                ];

                exampleData.forEach(row => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td>${row.criteria}</td>
                        <td>${row.conformance}</td>
                        <td>${row.remarks}</td>
                    `;
                    tableBody.appendChild(tr);
                });
            })
            .catch(error => console.error('Error:', error));
    });
    </script>
</body>
</html>